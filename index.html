<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Luxporter | Arrive in Style</title>
  <link rel="stylesheet" href="css/styles.css"/>
</head>
<body>

  <!-- Site Header / Navigation -->
  <header class="site-header">
    <nav class="navbar">
      <a href="index.html" class="logo">
        <img src="assets/logo.svg" alt="The Luxporter logo">
      </a>
      <button class="nav-toggle" aria-label="Toggle navigation">
        <span class="hamburger"></span>
      </button>
      <ul class="nav-links">
        <li><a href="services.html">Services</a></li>
        <li><a href="fleet.html">Fleet</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="booking.html" class="active">Book Now</a></li>
      </ul>
      <a href="booking.html" class="btn btn-primary">Book Now</a>
    </nav>
  </header>

  <main>

    <!-- Hero -->
    <section id="hero">
      <h1>Arrive in Style with The Luxporter</h1>
    </section>

    <!-- Our Services -->
    <section id="services">
      <h2>Our Services</h2>
      <ul class="services-list">
        <li>
          <h3>Airport Transfer</h3>
          <p>Timely pickups and drop-offs at YVR, private terminals, and seaplane bases.</p>
        </li>
        <li>
          <h3>Corporate Chauffeur</h3>
          <p>Professional drivers and discreet vehicles for business executives.</p>
        </li>
        <li>
          <h3>Event Transportation</h3>
          <p>Tailored shuttle and sedan services for weddings, conferences, and galas.</p>
        </li>
      </ul>
    </section>

    <!-- Our Fleet -->
    <section id="fleet">
      <h2>Our Fleet</h2>
      <table>
        <thead>
          <tr>
            <th>Vehicle</th>
            <th>Capacity</th>
            <th>Features</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Mercedes S-Class</td>
            <td>3 passengers</td>
            <td>Leather, Wi-Fi, Privacy Divider</td>
          </tr>
          <tr>
            <td>Cadillac Escalade</td>
            <td>6 passengers</td>
            <td>Spacious, Entertainment System</td>
          </tr>
          <tr>
            <td>Lincoln MKT</td>
            <td>4 passengers</td>
            <td>Comfort Plus, Mini-Bar</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Booking Widget -->
    <section id="booking">
      <div class="widget">
        <h2>Book Your Ride</h2>
        <div class="field">
          <label for="pickup">Pickup Location</label>
          <input type="text" id="pickup" placeholder="Start typing address...">
        </div>
        <div class="field">
          <label for="dropoff">Drop-off Location</label>
          <input type="text" id="dropoff" placeholder="Start typing address...">
        </div>
        <div class="field">
          <label for="distance">Distance (auto, km)</label>
          <input type="number" id="distance" readonly>
        </div>
        <div class="field">
          <label for="time">Estimated Time (auto, mins)</label>
          <input type="number" id="time" readonly>
        </div>
        <div class="field">
          <label for="vehicleType">Vehicle Type</label>
          <select id="vehicleType" onchange="updateVehiclePreview()">
            <option value="sedan">Sedan</option>
            <option value="suv">SUV</option>
            <option value="van">Van</option>
          </select>
        </div>
        <div class="field">
          <label for="vehicleClass">Vehicle Class</label>
          <select id="vehicleClass">
            <option value="economy">Economy</option>
            <option value="business">Business</option>
            <option value="luxury">Luxury</option>
          </select>
        </div>
        <div class="vehicle-preview" id="vehiclePreview"></div>
        <div class="field">
          <strong>Total Price: $<span id="price">0.00</span></strong>
        </div>
        <button onclick="calculateRouteAndPrice()">Calculate</button>
        <div id="payment-buttons"></div>
        <div id="confirmation" class="success"></div>
      </div>
    </section>

  </main>

  <footer class="site-footer">
    <p>Â© 2025 The Luxporter. All rights reserved.</p>
  </footer>

  <!-- Google Maps & Booking Script -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&libraries=places"></script>
  <script>
    let directionsService;

    function initAutocomplete() {
      directionsService = new google.maps.DirectionsService();
      new google.maps.places.Autocomplete(
        document.getElementById('pickup')
      );
      new google.maps.places.Autocomplete(
        document.getElementById('dropoff')
      );
    }

    function calculateRouteAndPrice() {
      const pickup = document.getElementById('pickup').value;
      const dropoff = document.getElementById('dropoff').value;
      const type = document.getElementById('vehicleType').value;
      const cls = document.getElementById('vehicleClass').value;
      if (!pickup || !dropoff) {
        alert('Enter both pickup and drop-off locations.');
        return;
      }

      directionsService.route({
        origin: pickup,
        destination: dropoff,
        travelMode: 'DRIVING'
      }, (response, status) => {
        if (status === 'OK') {
          const route = response.routes[0].legs[0];
          const distanceKm = route.distance.value / 1000;
          const durationMin = route.duration.value / 60;
          document.getElementById('distance').value = distanceKm.toFixed(1);
          document.getElementById('time').value = durationMin.toFixed(0);

          let baseRate = 1.0;
          if (type === 'suv') baseRate += 0.5;
          if (type === 'van') baseRate += 1.0;
          if (cls === 'business') baseRate += 1.0;
          if (cls === 'luxury') baseRate += 2.0;

          const price = (distanceKm * 1.5 + durationMin * 0.5) * baseRate;
          document.getElementById('price').textContent = price.toFixed(2);
        } else {
          alert('Could not calculate route. Please try again.');
        }
      });
    }

    function updateVehiclePreview() {
      const type = document.getElementById('vehicleType').value;
      const preview = document.getElementById('vehiclePreview');
      const imgMap = {
        sedan: 'https://cdn.pixabay.com/photo/2016/08/11/09/15/car-1589999_1280.png',
        suv:   'https://cdn.pixabay.com/photo/2012/05/29/00/43/suv-49277_1280.jpg',
        van:   'https://cdn.pixabay.com/photo/2013/07/13/14/16/van-162055_1280.png'
      };
      preview.innerHTML = `<img src="${imgMap[type]}" alt="${type} preview">`;
    }

    window.onload = initAutocomplete;
  </script>

</body>
</html>
